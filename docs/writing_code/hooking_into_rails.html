
<!DOCTYPE html>
<html>
  <head>

    <title>Hooking Into Rails</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no,
      minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">

    <link href='http://fonts.googleapis.com/css?family=Raleway:700,300'
      rel='stylesheet' type='text/css'>

    <!-- <link href="" rel="shortcut icon"
      type="image/png"> -->

    <link href="../../assets/viewer/sapwood/application-dafa3d162cbc465e3e792aef336d55ca.css" media="all" rel="stylesheet" />
    <script src="../../assets/modernizr-b7e936629a2c2fa6623b83ea794fb16f.js"></script>

    <meta content="authenticity_token" name="csrf-param" />
<meta content="h21N0kbXgswcPU2OfnRvr8ldldhSI15UBs+gcUZVEj8=" name="csrf-token" />

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-39017032-8', 'auto');
        ga('send', 'pageview');

      </script>
  <body>

    <header class="documentation">
  <h1><a href="../../index.html">sapwood</a></h1>
  <nav class="main">
    <ul>
      <li><a href="../../index.html">features</a></li>
      <li class="active"><a href="../../docs.html">docs</a></li>
      <li><a href="../../news.html">news</a></li>
      <li><a href="../../contributing.html">contribute</a></li>
      <li><a href="../../ideas.html">ideas</a></li>
      <li><a href="../../support.html">support</a></li>
    </ul>
  </nav>
</header>


    <div id="container" class="documentation">
      <aside id="doc-sidebar">
  <nav>
    <ul>
      <li><a href="../../docs.html">Introduction</a></li>
        <li class="">
          <a href="../getting_started.html">Getting Started</a>
        </li>
        <li class="">
          <a href="../creating_a_site.html">Creating A Site</a>
        </li>
        <li class="">
          <a href="../communicative_workflow.html">Communicative Workflow</a>
        </li>
        <li class="">
          <a href="../building_content.html">Building Content</a>
        </li>
        <li class="active">
          <a href="../writing_code.html">Writing Code</a>
            <ul class="subnav">
                <li><a href="directory_structure.html">Directory Structure</a></li>
                <li><a href="static_development.html">Static Development</a></li>
                <li><a href="previewing_your_site.html">Previewing Your Site</a></li>
                <li><a class="active" href="hooking_into_rails.html">Hooking Into Rails</a></li>
                <li><a href="rendering_process.html">Rendering Process</a></li>
                <li><a href="the_service_object.html">The Service Object</a></li>
                <li><a href="view_helpers.html">View Helpers</a></li>
                <li><a href="stylesheets.html">Stylesheets</a></li>
                <li><a href="javascripts.html">Javascripts</a></li>
                <li><a href="rake_tasks.html">Rake Tasks</a></li>
                <li><a href="custom_settings.html">Custom Settings</a></li>
            </ul>
        </li>
        <li class="">
          <a href="../managing_the_app.html">Managing the App</a>
        </li>
        <li class="">
          <a href="../upgrade-guides.html">Upgrade Guides</a>
        </li>
    </ul>
  </nav>
</aside>

<section id="doc-page">
  <header>
    <h1>Hooking Into Rails</h1>
  </header>
  <div class="page-content"><p>The <code>projects</code> directory in Sapwood holds all your projects (sites) within Git submodules. This enables you to track your code changes separately for each project.</p>

<p>Really, though, the <code>projects</code> directory is just a holding place for the code. Nothing would function within the Sapwood app if we just left it there. That&#39;s why we need to <em>hook into Sapwood</em>.</p>

<h2 id="hooking-files">Hooking Files</h2>

<p>A project file is hooked into rails via a <strong>first-line comment</strong> in this format:</p>
<div class="highlight"><pre>rtsym:[path]
</pre></div>
<p>Obviously, how you make a comment changes based on the file type, so we&#39;ll leave that up to you.</p>

<p>For example, if you look at the top of the <code>templates/layout.html.erb</code> file, you see this:</p>
<div class="highlight"><pre><span class="cp">&lt;%#</span><span class="c"> rtsym:app/views/layouts/viewer/[site_slug].html.erb </span><span class="cp">%&gt;</span><span class="x"></span>
</pre></div>
<p>When symlinks are generated, this file will be symlinked to the path following the colon. The sapwood app already knows where to look for the symlink, so if it is there, your site should function properly.</p>

<h2 id="hooking-directories">Hooking Directories</h2>

<p>You can also symlink an entire directory. This is done through a <code>.symlink</code> file within that directory.</p>

<p>The <code>.symlink</code> file&#39;s entire contents are to be the path to which the directory should be linked.</p>

<h2 id="warning!-changing-defaults">WARNING! Changing Defaults</h2>

<p>This documentation is here simply so you know what these files and these parts of files are doing. In other words, this is telling you <strong>they are important, so don&#39;t delete them</strong>.</p>

<p>But that also doesn&#39;t mean you should change them. While you are free to hook into rails <em>wherever</em> you&#39;d like, you should know that it is important you follow the steps above when customizing anything. <strong>The sapwood app is tightly configured to a certain set of expectations; changing the location of a symlink can have damaging effects on your site and possibly the entire sapwood app</strong>.</p>

<p>That being said, there are times when it might make sense to symlink a file. For example, if you have a lot of rake tasks and you want to organize them into individual files, you&#39;ll need a symlink for each file.</p>

<p>When adding symlinks, follow the steps above and <strong>ensure you aren&#39;t conflicting with another site&#39;s symlink location</strong>.</p>
</div>
</section>

    </div>

    <script src="../../assets/viewer/sapwood/application-bd4f381b5632ea4af03f349191923b31.js"></script>
  </body>
</html>
