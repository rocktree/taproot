
<!DOCTYPE html>
<html>
  <head>

    <title>Static Development</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no,
      minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">

    <link href='http://fonts.googleapis.com/css?family=Raleway:700,300'
      rel='stylesheet' type='text/css'>

    <!-- <link href="" rel="shortcut icon"
      type="image/png"> -->

    <link href="../../assets/viewer/sapwood/application-dafa3d162cbc465e3e792aef336d55ca.css" media="all" rel="stylesheet" />
    <script src="../../assets/modernizr-b7e936629a2c2fa6623b83ea794fb16f.js"></script>

    <meta content="authenticity_token" name="csrf-param" />
<meta content="h21N0kbXgswcPU2OfnRvr8ldldhSI15UBs+gcUZVEj8=" name="csrf-token" />

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-39017032-8', 'auto');
        ga('send', 'pageview');

      </script>
  <body>

    <header class="documentation">
  <h1><a href="../../index.html">sapwood</a></h1>
  <nav class="main">
    <ul>
      <li><a href="../../index.html">features</a></li>
      <li class="active"><a href="../../docs.html">docs</a></li>
      <li><a href="../../news.html">news</a></li>
      <li><a href="../../contributing.html">contribute</a></li>
      <li><a href="../../ideas.html">ideas</a></li>
      <li><a href="../../support.html">support</a></li>
    </ul>
  </nav>
</header>


    <div id="container" class="documentation">
      <aside id="doc-sidebar">
  <nav>
    <ul>
      <li><a href="../../docs.html">Introduction</a></li>
        <li class="">
          <a href="../getting_started.html">Getting Started</a>
        </li>
        <li class="">
          <a href="../creating_a_site.html">Creating A Site</a>
        </li>
        <li class="">
          <a href="../communicative_workflow.html">Communicative Workflow</a>
        </li>
        <li class="">
          <a href="../building_content.html">Building Content</a>
        </li>
        <li class="active">
          <a href="../writing_code.html">Writing Code</a>
            <ul class="subnav">
                <li><a href="directory_structure.html">Directory Structure</a></li>
                <li><a class="active" href="static_development.html">Static Development</a></li>
                <li><a href="previewing_your_site.html">Previewing Your Site</a></li>
                <li><a href="hooking_into_rails.html">Hooking Into Rails</a></li>
                <li><a href="rendering_process.html">Rendering Process</a></li>
                <li><a href="the_service_object.html">The Service Object</a></li>
                <li><a href="view_helpers.html">View Helpers</a></li>
                <li><a href="stylesheets.html">Stylesheets</a></li>
                <li><a href="javascripts.html">Javascripts</a></li>
                <li><a href="rake_tasks.html">Rake Tasks</a></li>
                <li><a href="custom_settings.html">Custom Settings</a></li>
            </ul>
        </li>
        <li class="">
          <a href="../managing_the_app.html">Managing the App</a>
        </li>
        <li class="">
          <a href="../upgrade-guides.html">Upgrade Guides</a>
        </li>
    </ul>
  </nav>
</aside>

<section id="doc-page">
  <header>
    <h1>Static Development</h1>
  </header>
  <div class="page-content"><p>Depending on your project workflow, you might not want to start out of the gate with a dynamic site. Sometimes it can be useful for your client to see some static wireframes and/or designs before you go into dynamic mode.</p>

<p>Static design may become more incorporated at some point in the future. For now, you need to incorporate it manually.</p>

<h2 id="an-example">An Example</h2>

<p>Here&#39;s an example of how I&#39;ve worked with static development using <a href="https://middlemanapp.com/">Middleman</a>.</p>

<p>First, create a middleman project within the project repository.</p>
<div class="highlight"><pre>$ middleman init middleman
</pre></div>
<p>We want to ignore the build files in middleman, so you need a <code>.gitignore</code> file in your project&#39;s root.</p>
<div class="highlight"><pre>$ touch .gitignore
$ echo &quot;middleman/build/&quot; &gt;&gt; .gitignore
</pre></div>
<p>Then we install all the gems and get to work.</p>
<div class="highlight"><pre>$ cd middleman
$ bundle install
$ bundle exec middleman
</pre></div>
<p>The important thing to remember is you need to <strong>create a separate namespace within your project repository</strong>. In other words, when you develop statically, you work entirely in your <code>middleman</code> directory.</p>

<p>To give a client a public view of this static site, manually ssh into your production server and pull the code. Something like this:</p>
<div class="highlight"><pre>$ ssh me@my_server
$ cd ~/apps/sapwood/projects/[site_slug]
$ git pull origin master
$ cd middleman
$ bundle install
</pre></div>
<p>So, at this point middleman is on the production server. And now you can make the build.</p>
<div class="highlight"><pre>$ cd middleman
$ bundle exec middleman build
</pre></div>
<p>The first time you do this, you have to add a virtual host for this static site. Let&#39;s say this is going to be hosted at <em>staging.google.com</em>. Create a file in the nginx config directory.</p>
<div class="highlight"><pre>$ sudo vim /etc/nginx/sites-enabled/staging.google.com
</pre></div>
<p>and add this content:</p>
<div class="highlight"><pre><span class="k">server</span> <span class="p">{</span>
  <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
  <span class="kn">server_name</span> <span class="s">staging.google.com</span><span class="p">;</span>
  <span class="kn">root</span> <span class="s">/home/deploy/apps/sapwood/projects/[site_slug]/middleman/build</span><span class="p">;</span>

  <span class="kn">index</span> <span class="s">index.html</span><span class="p">;</span>

  <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
    <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri/</span> <span class="s">/index.html</span> <span class="s">/index.php</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Restart nginx and it should work.</p>
<div class="highlight"><pre>$ sudo service nginx restart
</pre></div>
<hr>

<blockquote>
<p>If you have other examples, send your process to us. We&#39;re looking for the best example to work into the typical Sapwood project workflow.</p>
</blockquote>
</div>
</section>

    </div>

    <script src="../../assets/viewer/sapwood/application-bd4f381b5632ea4af03f349191923b31.js"></script>
  </body>
</html>
