
<!DOCTYPE html>
<html>
  <head>

    <title>v1.3 Makes Blogging a Little Easier</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no,
      minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">

    <link href='http://fonts.googleapis.com/css?family=Raleway:700,300'
      rel='stylesheet' type='text/css'>

    <!-- <link href="" rel="shortcut icon"
      type="image/png"> -->

    <link href="../assets/viewer/sapwood/application-dafa3d162cbc465e3e792aef336d55ca.css" media="all" rel="stylesheet" />
    <script src="../assets/modernizr-b7e936629a2c2fa6623b83ea794fb16f.js"></script>

    <meta content="authenticity_token" name="csrf-param" />
<meta content="h21N0kbXgswcPU2OfnRvr8ldldhSI15UBs+gcUZVEj8=" name="csrf-token" />

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-39017032-8', 'auto');
        ga('send', 'pageview');

      </script>
  <body>

    <header class="article">
  <h1><a href="../index.html">sapwood</a></h1>
  <nav class="main">
    <ul>
      <li><a href="../index.html">features</a></li>
      <li><a href="../docs.html">docs</a></li>
      <li class="active"><a href="../news.html">news</a></li>
      <li><a href="../contributing.html">contribute</a></li>
      <li><a href="../ideas.html">ideas</a></li>
      <li><a href="../support.html">support</a></li>
    </ul>
  </nav>
</header>


    <div id="container" class="article">
      <div class="page" id="article">
  <header>
    <time>04.02.15</time>
    <h1>v1.3 Makes Blogging a Little Easier</h1>
  </header>
  <section class="body">
    <p>Unlike v1.2, v1.3 had to happen fast, and it did! In just a few days and less than 30 commits, we have a few features that make blogging a little easier.</p>

<h2 id="introducing-resources">Introducing Resources</h2>

<p>I struggled with this for some time. I knew there was a need for tags of some sort. And I knew that some sites were eligible only on the basis of needing a many-to-many relationship, which Sapwood was not prepared to handle.</p>

<p>But, then two requests similar to this came in within one week, and I knew there had to be a way to solve it. <em>Resources</em> are the first attempt at that.</p>

<p>A resource is any item that needs to be linked to several different pages. So, a <em>tag</em> could be a resource, but so could a <em>feature slide</em>.</p>

<p>You can read much more about resource <a href="../docs/building_content/resources.html">on its doc page</a>.</p>

<h2 id="searching">Searching</h2>

<p>v1.3 also brings the first pass at bringing in searching to pages. There is a search feature built in to the builder for pages, and developers now have the option of listing search results on their pages.</p>

<p>To obtain the results, we simply need to call <code>search_content</code> at the <code>Page</code> class level. And then it&#39;s best to send the results to an array so you can work with them like you usually would a query result.</p>

<p>If your form is:</p>
<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">simple_form_for</span><span class="p">(</span><span class="ss">:search</span><span class="p">,</span> <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="n">viewer_home</span><span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:get</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="ss">:q</span><span class="p">,</span> <span class="ss">:label</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span> <span class="ss">:wrapper</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>
<p>Then you can get the search results like so:</p>
<div class="highlight"><pre><span class="n">current_site</span><span class="o">.</span><span class="n">pages</span><span class="o">.</span><span class="n">search_content</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:search</span><span class="o">][</span><span class="ss">:q</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span>
</pre></div>
<h2 id="a-database-switch">A Database Switch</h2>

<p>I&#39;m finally starting to come around, and now PostgreSQL is the only supported database adapter for Sapwood. The biggest factor in making this switch is the ease of being able to run searches without needing something like Thinking Sphinx running all the time.</p>

<h2 id="other-items">Other Items</h2>

<p>A few other feature additions:</p>

<ul>
<li>Files can be uploaded to public forms. You can view and download files within each submission.</li>
<li>There is a google analytics helper to clean up your layout files.</li>
</ul>

  </section>
</div>

    </div>

    <script src="../assets/viewer/sapwood/application-bd4f381b5632ea4af03f349191923b31.js"></script>
  </body>
</html>
